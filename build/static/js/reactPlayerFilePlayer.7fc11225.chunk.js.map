{"version":3,"sources":["../node_modules/react-player/lib/players/FilePlayer.js"],"names":["_objectSpread","__webpack_require__","_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_assertThisInitialized","_inherits","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray","length","i","F","s","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","mod","__create","create","__defProp","defineProperty","__getOwnPropDesc","getOwnPropertyDescriptor","__getOwnPropNames","getOwnPropertyNames","__getProtoOf","getPrototypeOf","__hasOwnProp","hasOwnProperty","__copyProps","to","except","desc","_step","_iterator","_loop","key","get","enumerable","__publicField","obj","configurable","writable","__defNormalProp","FilePlayer_exports","target","all","__export","default","FilePlayer","module","exports","import_react","isNodeMode","__esModule","__toESM","import_utils","import_patterns","HAS_NAVIGATOR","navigator","IS_IPAD_PRO","platform","maxTouchPoints","IS_IOS","userAgent","window","MSStream","IS_SAFARI","MATCH_DROPBOX_URL","MATCH_CLOUDFLARE_STREAM","_import_react$Compone","_this","this","apply","arguments","_this$props","props","onReady","_this$props2","onPlay","_this$props3","onBuffer","_this$props4","onBufferEnd","_this$props5","onPause","_this$props6","onEnded","_this$props7","onError","event","onPlaybackRateChange","playbackRate","_this$props8","onEnablePIP","_this$props9","onDisablePIP","playing","play","player","supportsWebKitPresentationMode","webkitPresentationMode","onSeek","currentTime","muted","source","index","createElement","src","track","prevPlayer","onMount","addListeners","getSource","url","config","forceDisableHls","load","prevProps","shouldUseAudio","removeListeners","isMediaStream","srcObject","removeAttribute","hls","destroy","_this$props10","playsinline","addEventListener","onPlayBackRateChange","onPresentationModeChange","shouldUseHLS","setAttribute","removeEventListener","forceVideo","attributes","poster","AUDIO_EXTENSIONS","forceAudio","forceSafariHLS","forceHLS","HLS_EXTENSIONS","DASH_EXTENSIONS","forceDASH","FLV_EXTENSIONS","forceFLV","_this2","_this$props$config","hlsVersion","hlsOptions","dashVersion","flvVersion","dash","reset","getSDK","replace","then","Hls","on","Events","MANIFEST_PARSED","ERROR","data","id","match","loadSource","attachMedia","onLoaded","shouldUseDASH","dashjs","MediaPlayer","initialize","parseInt","getDebug","setLogToBrowserConsole","updateSettings","debug","logLevel","Debug","LOG_LEVEL_NONE","shouldUseFLV","flvjs","flv","createPlayer","type","attachMediaElement","URL","createObjectURL","promise","catch","pause","seconds","keepPlaying","undefined","fraction","volume","requestPictureInPicture","document","pictureInPictureElement","webkitSetPresentationMode","exitPictureInPicture","rate","error","_this$player","duration","seekable","Infinity","end","buffered","getDuration","useHLS","useDASH","useFLV","_this$props11","loop","controls","width","height","Element","style","ref","preload","autoPlay","map","renderSourceElement","tracks","renderTrack","Component","canPlay","file"],"mappings":"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","file":"static/js/reactPlayerFilePlayer.7fc11225.chunk.js","sourcesContent":["var _objectSpread = require(\"/home/home/D/projects/Lut/project/ateek/watch2win-admin-panel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/objectSpread\");\n\nvar _classCallCheck = require(\"/home/home/D/projects/Lut/project/ateek/watch2win-admin-panel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/home/D/projects/Lut/project/ateek/watch2win-admin-panel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _possibleConstructorReturn = require(\"/home/home/D/projects/Lut/project/ateek/watch2win-admin-panel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/home/home/D/projects/Lut/project/ateek/watch2win-admin-panel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _assertThisInitialized = require(\"/home/home/D/projects/Lut/project/ateek/watch2win-admin-panel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"/home/home/D/projects/Lut/project/ateek/watch2win-admin-panel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\n\nvar __defNormalProp = function __defNormalProp(obj, key, value) {\n  return key in obj ? __defProp(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\n\nvar __export = function __export(target, all) {\n  for (var name in all) {\n    __defProp(target, name, {\n      get: all[name],\n      enumerable: true\n    });\n  }\n};\n\nvar __copyProps = function __copyProps(to, from, except, desc) {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    var _iterator = _createForOfIteratorHelper(__getOwnPropNames(from)),\n        _step;\n\n    try {\n      var _loop = function _loop() {\n        var key = _step.value;\n        if (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {\n          get: function get() {\n            return from[key];\n          },\n          enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable\n        });\n      };\n\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        _loop();\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n\n  return to;\n};\n\nvar __toESM = function __toESM(mod, isNodeMode, target) {\n  return target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps( // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", {\n    value: mod,\n    enumerable: true\n  }) : target, mod);\n};\n\nvar __toCommonJS = function __toCommonJS(mod) {\n  return __copyProps(__defProp({}, \"__esModule\", {\n    value: true\n  }), mod);\n};\n\nvar __publicField = function __publicField(obj, key, value) {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n  return value;\n};\n\nvar FilePlayer_exports = {};\n\n__export(FilePlayer_exports, {\n  default: function _default() {\n    return FilePlayer;\n  }\n});\n\nmodule.exports = __toCommonJS(FilePlayer_exports);\n\nvar import_react = __toESM(require(\"react\"));\n\nvar import_utils = require(\"../utils\");\n\nvar import_patterns = require(\"../patterns\");\n\nvar HAS_NAVIGATOR = typeof navigator !== \"undefined\";\nvar IS_IPAD_PRO = HAS_NAVIGATOR && navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1;\nvar IS_IOS = HAS_NAVIGATOR && (/iPad|iPhone|iPod/.test(navigator.userAgent) || IS_IPAD_PRO) && !window.MSStream;\nvar IS_SAFARI = HAS_NAVIGATOR && /^((?!chrome|android).)*safari/i.test(navigator.userAgent) && !window.MSStream;\nvar HLS_SDK_URL = \"https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js\";\nvar HLS_GLOBAL = \"Hls\";\nvar DASH_SDK_URL = \"https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js\";\nvar DASH_GLOBAL = \"dashjs\";\nvar FLV_SDK_URL = \"https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js\";\nvar FLV_GLOBAL = \"flvjs\";\nvar MATCH_DROPBOX_URL = /www\\.dropbox\\.com\\/.+/;\nvar MATCH_CLOUDFLARE_STREAM = /https:\\/\\/watch\\.cloudflarestream\\.com\\/([a-z0-9]+)/;\nvar REPLACE_CLOUDFLARE_STREAM = \"https://videodelivery.net/{id}/manifest/video.m3u8\";\n\nvar FilePlayer = /*#__PURE__*/function (_import_react$Compone) {\n  \"use strict\";\n\n  _inherits(FilePlayer, _import_react$Compone);\n\n  function FilePlayer() {\n    var _this;\n\n    _classCallCheck(this, FilePlayer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FilePlayer).apply(this, arguments)); // Proxy methods to prevent listener leaks\n\n    __publicField(_assertThisInitialized(_this), \"onReady\", function () {\n      var _this$props;\n\n      return (_this$props = _this.props).onReady.apply(_this$props, arguments);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onPlay\", function () {\n      var _this$props2;\n\n      return (_this$props2 = _this.props).onPlay.apply(_this$props2, arguments);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onBuffer\", function () {\n      var _this$props3;\n\n      return (_this$props3 = _this.props).onBuffer.apply(_this$props3, arguments);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onBufferEnd\", function () {\n      var _this$props4;\n\n      return (_this$props4 = _this.props).onBufferEnd.apply(_this$props4, arguments);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onPause\", function () {\n      var _this$props5;\n\n      return (_this$props5 = _this.props).onPause.apply(_this$props5, arguments);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onEnded\", function () {\n      var _this$props6;\n\n      return (_this$props6 = _this.props).onEnded.apply(_this$props6, arguments);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onError\", function () {\n      var _this$props7;\n\n      return (_this$props7 = _this.props).onError.apply(_this$props7, arguments);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onPlayBackRateChange\", function (event) {\n      return _this.props.onPlaybackRateChange(event.target.playbackRate);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onEnablePIP\", function () {\n      var _this$props8;\n\n      return (_this$props8 = _this.props).onEnablePIP.apply(_this$props8, arguments);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onDisablePIP\", function (e) {\n      var _this$props9 = _this.props,\n          onDisablePIP = _this$props9.onDisablePIP,\n          playing = _this$props9.playing;\n      onDisablePIP(e);\n\n      if (playing) {\n        _this.play();\n      }\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onPresentationModeChange\", function (e) {\n      if (_this.player && (0, import_utils.supportsWebKitPresentationMode)(_this.player)) {\n        var webkitPresentationMode = _this.player.webkitPresentationMode;\n\n        if (webkitPresentationMode === \"picture-in-picture\") {\n          _this.onEnablePIP(e);\n        } else if (webkitPresentationMode === \"inline\") {\n          _this.onDisablePIP(e);\n        }\n      }\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onSeek\", function (e) {\n      _this.props.onSeek(e.target.currentTime);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"mute\", function () {\n      _this.player.muted = true;\n    });\n\n    __publicField(_assertThisInitialized(_this), \"unmute\", function () {\n      _this.player.muted = false;\n    });\n\n    __publicField(_assertThisInitialized(_this), \"renderSourceElement\", function (source, index) {\n      if (typeof source === \"string\") {\n        return /* @__PURE__ */import_react.default.createElement(\"source\", {\n          key: index,\n          src: source\n        });\n      }\n\n      return /* @__PURE__ */import_react.default.createElement(\"source\", _objectSpread({\n        key: index\n      }, source));\n    });\n\n    __publicField(_assertThisInitialized(_this), \"renderTrack\", function (track, index) {\n      return /* @__PURE__ */import_react.default.createElement(\"track\", _objectSpread({\n        key: index\n      }, track));\n    });\n\n    __publicField(_assertThisInitialized(_this), \"ref\", function (player) {\n      if (_this.player) {\n        _this.prevPlayer = _this.player;\n      }\n\n      _this.player = player;\n    });\n\n    return _this;\n  }\n\n  _createClass(FilePlayer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.onMount && this.props.onMount(this);\n      this.addListeners(this.player);\n      var src = this.getSource(this.props.url);\n\n      if (src) {\n        this.player.src = src;\n      }\n\n      if (IS_IOS || this.props.config.forceDisableHls) {\n        this.player.load();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.shouldUseAudio(this.props) !== this.shouldUseAudio(prevProps)) {\n        this.removeListeners(this.prevPlayer, prevProps.url);\n        this.addListeners(this.player);\n      }\n\n      if (this.props.url !== prevProps.url && !(0, import_utils.isMediaStream)(this.props.url) && !(this.props.url instanceof Array)) {\n        this.player.srcObject = null;\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.player.removeAttribute(\"src\");\n      this.removeListeners(this.player);\n\n      if (this.hls) {\n        this.hls.destroy();\n      }\n    }\n  }, {\n    key: \"addListeners\",\n    value: function addListeners(player) {\n      var _this$props10 = this.props,\n          url = _this$props10.url,\n          playsinline = _this$props10.playsinline;\n      player.addEventListener(\"play\", this.onPlay);\n      player.addEventListener(\"waiting\", this.onBuffer);\n      player.addEventListener(\"playing\", this.onBufferEnd);\n      player.addEventListener(\"pause\", this.onPause);\n      player.addEventListener(\"seeked\", this.onSeek);\n      player.addEventListener(\"ended\", this.onEnded);\n      player.addEventListener(\"error\", this.onError);\n      player.addEventListener(\"ratechange\", this.onPlayBackRateChange);\n      player.addEventListener(\"enterpictureinpicture\", this.onEnablePIP);\n      player.addEventListener(\"leavepictureinpicture\", this.onDisablePIP);\n      player.addEventListener(\"webkitpresentationmodechanged\", this.onPresentationModeChange);\n\n      if (!this.shouldUseHLS(url)) {\n        player.addEventListener(\"canplay\", this.onReady);\n      }\n\n      if (playsinline) {\n        player.setAttribute(\"playsinline\", \"\");\n        player.setAttribute(\"webkit-playsinline\", \"\");\n        player.setAttribute(\"x5-playsinline\", \"\");\n      }\n    }\n  }, {\n    key: \"removeListeners\",\n    value: function removeListeners(player, url) {\n      player.removeEventListener(\"canplay\", this.onReady);\n      player.removeEventListener(\"play\", this.onPlay);\n      player.removeEventListener(\"waiting\", this.onBuffer);\n      player.removeEventListener(\"playing\", this.onBufferEnd);\n      player.removeEventListener(\"pause\", this.onPause);\n      player.removeEventListener(\"seeked\", this.onSeek);\n      player.removeEventListener(\"ended\", this.onEnded);\n      player.removeEventListener(\"error\", this.onError);\n      player.removeEventListener(\"ratechange\", this.onPlayBackRateChange);\n      player.removeEventListener(\"enterpictureinpicture\", this.onEnablePIP);\n      player.removeEventListener(\"leavepictureinpicture\", this.onDisablePIP);\n      player.removeEventListener(\"webkitpresentationmodechanged\", this.onPresentationModeChange);\n\n      if (!this.shouldUseHLS(url)) {\n        player.removeEventListener(\"canplay\", this.onReady);\n      }\n    }\n  }, {\n    key: \"shouldUseAudio\",\n    value: function shouldUseAudio(props) {\n      if (props.config.forceVideo) {\n        return false;\n      }\n\n      if (props.config.attributes.poster) {\n        return false;\n      }\n\n      return import_patterns.AUDIO_EXTENSIONS.test(props.url) || props.config.forceAudio;\n    }\n  }, {\n    key: \"shouldUseHLS\",\n    value: function shouldUseHLS(url) {\n      if (IS_SAFARI && this.props.config.forceSafariHLS || this.props.config.forceHLS) {\n        return true;\n      }\n\n      if (IS_IOS || this.props.config.forceDisableHls) {\n        return false;\n      }\n\n      return import_patterns.HLS_EXTENSIONS.test(url) || MATCH_CLOUDFLARE_STREAM.test(url);\n    }\n  }, {\n    key: \"shouldUseDASH\",\n    value: function shouldUseDASH(url) {\n      return import_patterns.DASH_EXTENSIONS.test(url) || this.props.config.forceDASH;\n    }\n  }, {\n    key: \"shouldUseFLV\",\n    value: function shouldUseFLV(url) {\n      return import_patterns.FLV_EXTENSIONS.test(url) || this.props.config.forceFLV;\n    }\n  }, {\n    key: \"load\",\n    value: function load(url) {\n      var _this2 = this;\n\n      var _this$props$config = this.props.config,\n          hlsVersion = _this$props$config.hlsVersion,\n          hlsOptions = _this$props$config.hlsOptions,\n          dashVersion = _this$props$config.dashVersion,\n          flvVersion = _this$props$config.flvVersion;\n\n      if (this.hls) {\n        this.hls.destroy();\n      }\n\n      if (this.dash) {\n        this.dash.reset();\n      }\n\n      if (this.shouldUseHLS(url)) {\n        (0, import_utils.getSDK)(HLS_SDK_URL.replace(\"VERSION\", hlsVersion), HLS_GLOBAL).then(function (Hls) {\n          _this2.hls = new Hls(hlsOptions);\n\n          _this2.hls.on(Hls.Events.MANIFEST_PARSED, function () {\n            _this2.props.onReady();\n          });\n\n          _this2.hls.on(Hls.Events.ERROR, function (e, data) {\n            _this2.props.onError(e, data, _this2.hls, Hls);\n          });\n\n          if (MATCH_CLOUDFLARE_STREAM.test(url)) {\n            var id = url.match(MATCH_CLOUDFLARE_STREAM)[1];\n\n            _this2.hls.loadSource(REPLACE_CLOUDFLARE_STREAM.replace(\"{id}\", id));\n          } else {\n            _this2.hls.loadSource(url);\n          }\n\n          _this2.hls.attachMedia(_this2.player);\n\n          _this2.props.onLoaded();\n        });\n      }\n\n      if (this.shouldUseDASH(url)) {\n        (0, import_utils.getSDK)(DASH_SDK_URL.replace(\"VERSION\", dashVersion), DASH_GLOBAL).then(function (dashjs) {\n          _this2.dash = dashjs.MediaPlayer().create();\n\n          _this2.dash.initialize(_this2.player, url, _this2.props.playing);\n\n          _this2.dash.on(\"error\", _this2.props.onError);\n\n          if (parseInt(dashVersion) < 3) {\n            _this2.dash.getDebug().setLogToBrowserConsole(false);\n          } else {\n            _this2.dash.updateSettings({\n              debug: {\n                logLevel: dashjs.Debug.LOG_LEVEL_NONE\n              }\n            });\n          }\n\n          _this2.props.onLoaded();\n        });\n      }\n\n      if (this.shouldUseFLV(url)) {\n        (0, import_utils.getSDK)(FLV_SDK_URL.replace(\"VERSION\", flvVersion), FLV_GLOBAL).then(function (flvjs) {\n          _this2.flv = flvjs.createPlayer({\n            type: \"flv\",\n            url: url\n          });\n\n          _this2.flv.attachMediaElement(_this2.player);\n\n          _this2.flv.on(flvjs.Events.ERROR, function (e, data) {\n            _this2.props.onError(e, data, _this2.flv, flvjs);\n          });\n\n          _this2.flv.load();\n\n          _this2.props.onLoaded();\n        });\n      }\n\n      if (url instanceof Array) {\n        this.player.load();\n      } else if ((0, import_utils.isMediaStream)(url)) {\n        try {\n          this.player.srcObject = url;\n        } catch (e) {\n          this.player.src = window.URL.createObjectURL(url);\n        }\n      }\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var promise = this.player.play();\n\n      if (promise) {\n        promise.catch(this.props.onError);\n      }\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.player.pause();\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.player.removeAttribute(\"src\");\n\n      if (this.dash) {\n        this.dash.reset();\n      }\n    }\n  }, {\n    key: \"seekTo\",\n    value: function seekTo(seconds) {\n      var keepPlaying = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      this.player.currentTime = seconds;\n\n      if (!keepPlaying) {\n        this.pause();\n      }\n    }\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(fraction) {\n      this.player.volume = fraction;\n    }\n  }, {\n    key: \"enablePIP\",\n    value: function enablePIP() {\n      if (this.player.requestPictureInPicture && document.pictureInPictureElement !== this.player) {\n        this.player.requestPictureInPicture();\n      } else if ((0, import_utils.supportsWebKitPresentationMode)(this.player) && this.player.webkitPresentationMode !== \"picture-in-picture\") {\n        this.player.webkitSetPresentationMode(\"picture-in-picture\");\n      }\n    }\n  }, {\n    key: \"disablePIP\",\n    value: function disablePIP() {\n      if (document.exitPictureInPicture && document.pictureInPictureElement === this.player) {\n        document.exitPictureInPicture();\n      } else if ((0, import_utils.supportsWebKitPresentationMode)(this.player) && this.player.webkitPresentationMode !== \"inline\") {\n        this.player.webkitSetPresentationMode(\"inline\");\n      }\n    }\n  }, {\n    key: \"setPlaybackRate\",\n    value: function setPlaybackRate(rate) {\n      try {\n        this.player.playbackRate = rate;\n      } catch (error) {\n        this.props.onError(error);\n      }\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      if (!this.player) return null;\n      var _this$player = this.player,\n          duration = _this$player.duration,\n          seekable = _this$player.seekable;\n\n      if (duration === Infinity && seekable.length > 0) {\n        return seekable.end(seekable.length - 1);\n      }\n\n      return duration;\n    }\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      if (!this.player) return null;\n      return this.player.currentTime;\n    }\n  }, {\n    key: \"getSecondsLoaded\",\n    value: function getSecondsLoaded() {\n      if (!this.player) return null;\n      var buffered = this.player.buffered;\n\n      if (buffered.length === 0) {\n        return 0;\n      }\n\n      var end = buffered.end(buffered.length - 1);\n      var duration = this.getDuration();\n\n      if (end > duration) {\n        return duration;\n      }\n\n      return end;\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(url) {\n      var useHLS = this.shouldUseHLS(url);\n      var useDASH = this.shouldUseDASH(url);\n      var useFLV = this.shouldUseFLV(url);\n\n      if (url instanceof Array || (0, import_utils.isMediaStream)(url) || useHLS || useDASH || useFLV) {\n        return void 0;\n      }\n\n      if (MATCH_DROPBOX_URL.test(url)) {\n        return url.replace(\"www.dropbox.com\", \"dl.dropboxusercontent.com\");\n      }\n\n      return url;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props11 = this.props,\n          url = _this$props11.url,\n          playing = _this$props11.playing,\n          loop = _this$props11.loop,\n          controls = _this$props11.controls,\n          muted = _this$props11.muted,\n          config = _this$props11.config,\n          width = _this$props11.width,\n          height = _this$props11.height;\n      var useAudio = this.shouldUseAudio(this.props);\n      var Element = useAudio ? \"audio\" : \"video\";\n      var style = {\n        width: width === \"auto\" ? width : \"100%\",\n        height: height === \"auto\" ? height : \"100%\"\n      };\n      return /* @__PURE__ */import_react.default.createElement(Element, _objectSpread({\n        ref: this.ref,\n        src: this.getSource(url),\n        style: style,\n        preload: \"auto\",\n        autoPlay: playing || void 0,\n        controls: controls,\n        muted: muted,\n        loop: loop\n      }, config.attributes), url instanceof Array && url.map(this.renderSourceElement), config.tracks.map(this.renderTrack));\n    }\n  }]);\n\n  return FilePlayer;\n}(import_react.Component);\n\n__publicField(FilePlayer, \"displayName\", \"FilePlayer\");\n\n__publicField(FilePlayer, \"canPlay\", import_patterns.canPlay.file);"],"sourceRoot":""}